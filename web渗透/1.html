<html>
  <head>
    <title>Uploader</title>

    <script src="https://mdsysgl.mdit.edu.cn/sysgl/static/plugins/kindeditor-4.1.2/kindeditor.js"></script>

    <script>
      KindEditor.ready(function (K) {
        var uploadbutton = K.uploadbutton({
          button: K("#uploadButton")[0],

          fieldName: "imgFile",

          url: "https://mdsysgl.mdit.edu.cn/sysgl/static/plugins/kindeditor-4.1.2/jsp/pupload_json.jsp?dir=file",

          afterUpload: function (data) {
            if (data.error === 0) {
              var url = K.formatUrl(data.url, "absolute");

              K("#url").val(url);
            }
          },
        });

        uploadbutton.fileBox.change(function (e) {
          uploadbutton.submit();
        });
      });
    </script>
  </head>
  <body>
    <div class="upload">
      <input
        class="ke-input-text"
        type="text"
        id="url"
        value=""
        readonly="readonly"
      />

      <input type="button" id="uploadButton" value="Upload" />
    </div>
  </body>
</html>
